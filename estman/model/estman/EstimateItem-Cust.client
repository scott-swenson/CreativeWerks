client EstimateItem;
component ESTMAN;
layer Cust;
description "Put some useful description here ...";


--------------------------------- FRAGMENTS ---------------------------------

----------------------------- NAVIGATOR ENTRIES -----------------------------

-------------------------------- MAIN PAGES ---------------------------------
@Override
page EstimateNodeForm using EstimateTopNodeSet {



   tabs {
      @DynamicComponentDependency ESTPRD
      tab {
         label = "Overhead per Pallet";
         list CEstimatePerPalletList(CEstimatePerPalletRef);
      }
   }
   command UpsertDefaultOverheads;
}


--------------------------------- COMMANDS ----------------------------------
command UpsertDefaultOverheads for EstimateTopNode {
   execute {
      call ResetPerPalletToDefaultCommand();
   }
}

--------------------------------- SELECTORS ---------------------------------


---------------------------------- GROUPS -----------------------------------
@Override
group EstimateTopNodeGroup for EstimateTopNode {
   @DynamicComponentDependency ESTPRD
   field CQuantityPerPallet;
   @DynamicComponentDependency ESTPRD
   computedfield TotalPallets {
      value = "#{VersionQty / CQuantityPerPallet}";
      visible = [CQuantityPerPallet > 0];
   }
   @DynamicComponentDependency ESTPRD
   field CConsumerUnitPerUom;
   @DynamicComponentDependency ESTPRD
   computedfield TotalConsumerUnits {
      value = "#{VersionQty * CConsumerUnitPerUom}";
      visible = [CConsumerUnitPerUom > 0];
   }
}

----------------------------------- LISTS -----------------------------------
@DynamicComponentDependency ESTPRD
list CEstimatePerPalletList for CEstimatePerPallet {
   orderby = Contract, OverheadType;
   label = "Overhead Per Pallet";
   field OverheadType;
   lov CostElementRef with ProjectCostElementSelector {
      label = "Cost Element";
      description = CostElementRef.Description;
   }
   static TotalPallets {
      columnvisible = [false];
   }
   field AmountPerPallet;
   static TotalAmount;

   summary = AmountPerPallet, TotalAmount;
}

---------------------------------- DIALOGS ----------------------------------


-------------------------------- SINGLETONS ---------------------------------


---------------------------------- CHARTS -----------------------------------


--------------------------------- CALENDERS ---------------------------------


---------------------------------- SHEETS -----------------------------------


----------------------------- STATE INDICATORS ------------------------------


----------------------------------- TREES -----------------------------------


---------------------------------- PLUGINS ----------------------------------


------------------------------- IMAGE VIEWERS -------------------------------
